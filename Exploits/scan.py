import time
import os


def parse_scan(file_in):
    data_out = {'host': '', 'ports': []}

    for line in open(file_in, 'r').readlines():
        line = line.replace('\n', '')
        if len(line.split(' open ')) >= 2:
            data_out['ports'].append(line.split(' open ')[0])
        try:
            data_out['host'] = line.split('Nmap scan report for ')[1]
        except IndexError:
            pass
    print data_out

parse_scan('scan.txt')
